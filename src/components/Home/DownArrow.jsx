import React, { useEffect, useState } from 'react';

const DownArrow = () => {
  const [countPlaneImage, setPlaneImage] = useState(2);
  useEffect(() => {
    let timeout;
    const updatePlaneImage = () => {
      setPlaneImage((prevState) => (prevState + 1 > 11 ? 2 : prevState + 1));
    };
    if (countPlaneImage === 11) {
      timeout = setTimeout(() => {
        updatePlaneImage();
        timeout = setInterval(updatePlaneImage, 100);
      }, 1000);
    } else {
      const interval = setInterval(updatePlaneImage, 100);
      return () => clearInterval(interval);
    }
    return () => clearTimeout(timeout);
  }, [countPlaneImage]);

  return (
    <svg
      className='down-arrow'
      width='23'
      height='78'
      viewBox='0 0 23 78'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <path
        d='M11.1387 4V1'
        stroke={countPlaneImage === 2 ? 'white' : '#DEDEDE'}
        strokeLinecap='round'
        strokeWidth={countPlaneImage === 2 ? 3 : 0.5}
      />
      <path
        d='M11.1387 10V7'
        stroke={countPlaneImage === 3 ? 'white' : '#DEDEDE'}
        strokeLinecap='round'
        strokeWidth={countPlaneImage === 3 ? 3 : 0.5}
      />
      <path
        d='M11.1387 16V13'
        stroke={countPlaneImage === 4 ? 'white' : '#DEDEDE'}
        strokeLinecap='round'
        strokeWidth={countPlaneImage === 4 ? 3 : 0.5}
      />
      <path
        d='M11.1387 22V19'
        stroke={countPlaneImage === 5 ? 'white' : '#DEDEDE'}
        strokeLinecap='round'
        strokeWidth={countPlaneImage === 5 ? 3 : 0.5}
      />
      <path
        d='M11.1387 28V25'
        stroke={countPlaneImage === 6 ? 'white' : '#DEDEDE'}
        strokeLinecap='round'
        strokeWidth={countPlaneImage === 6 ? 3 : 0.5}
      />
      <path
        d='M11.1387 34V31'
        stroke={countPlaneImage === 7 ? 'white' : '#DEDEDE'}
        strokeLinecap='round'
        strokeWidth={countPlaneImage === 7 ? 3 : 0.5}
      />
      <path
        d='M11.1387 40V37'
        stroke={countPlaneImage === 8 ? 'white' : '#DEDEDE'}
        strokeLinecap='round'
        strokeWidth={countPlaneImage === 8 ? 3 : 0.5}
      />
      <path
        d='M11.1387 46V43'
        stroke={countPlaneImage === 9 ? 'white' : '#DEDEDE'}
        strokeLinecap='round'
        strokeWidth={countPlaneImage === 9 ? 3 : 0.5}
      />
      <path
        d='M11.1387 52V49'
        stroke={countPlaneImage === 10 ? 'white' : '#DEDEDE'}
        strokeLinecap='round'
        strokeWidth={countPlaneImage === 10 ? 3 : 0.5}
      />
      {countPlaneImage !== 11 ? (
        <path
          d='M12.6673 62.4852L18.542 61.785L18.6156 61.7831C19.5042 61.7831 20.2246 62.5035 20.2246 63.3921C20.2246 64.1949 19.8049 64.9378 19.0902 65.3704L18.9295 65.4568L12.8405 68.4017L12.9563 72.3588C12.9984 73.7925 11.8704 74.9888 10.4257 75.0311L10.3605 75.032C8.92612 75.032 7.76334 73.8692 7.76366 72.4129L7.87971 68.4487L1.69149 65.4569C0.899492 65.074 0.396297 64.2718 0.396297 63.3921C0.396297 62.5035 1.11667 61.7831 2.02766 61.7834L2.14561 61.7899L8.05388 62.4968L8.11614 60.3647L7.38046 60.0958C6.61315 59.8153 6.10278 59.0853 6.10278 58.2684C6.10278 57.3924 6.81287 56.6823 7.68916 56.6823L8.44872 56.6827L8.481 56.5277C8.66678 55.6377 9.45132 55 10.3605 55C11.2698 55 12.0543 55.6381 12.2393 56.5282L12.2715 56.6827L13.0322 56.6824C13.8342 56.6824 14.507 57.2805 14.6102 58.117L14.6182 58.2684C14.6182 59.0133 14.193 59.6912 13.4912 60.0328L13.341 60.0957L12.6051 60.3653L12.6673 62.4852ZM18.7246 63.3921C18.7246 63.3319 18.6758 63.2831 18.638 63.2828L11.216 64.1692L11.0741 59.3287L12.7894 58.7013L12.8684 58.6688C13.0207 58.5944 13.1182 58.439 13.1196 58.3149L13.1175 58.2566C13.1123 58.215 13.0755 58.1823 13.0325 58.1823L11.0517 58.1833L10.7708 56.8337C10.7304 56.6393 10.5591 56.5 10.3605 56.5C10.1616 56.5 9.98999 56.6395 9.94943 56.8338L9.6685 58.1833L7.6888 58.1823C7.64129 58.1823 7.60278 58.2209 7.60278 58.2684C7.60278 58.4555 7.7197 58.6228 7.89545 58.687L9.64708 59.3273L9.50534 64.1812L2.03414 63.2843L2.00529 63.2831C1.94509 63.2831 1.8963 63.3319 1.8963 63.3921C1.8963 63.6964 2.07037 63.9739 2.34438 64.1064L9.40751 67.5213L9.26334 72.4348C9.26334 73.0408 9.75455 73.5321 10.3495 73.5321L10.3927 73.5315C10.9983 73.5137 11.4747 73.0084 11.457 72.4028L11.3127 67.4743L18.2449 64.1226L18.3431 64.0702C18.5794 63.9269 18.7246 63.6698 18.7246 63.3921Z'
          fill='#DEDEDE'
        />
      ) : (
        <path
          d='M13.7344 63.2408L20.2022 62.4699L20.2833 62.4679C21.2616 62.4679 22.0547 63.261 22.0547 64.2393C22.0547 65.1231 21.5927 65.941 20.8058 66.4173L20.6289 66.5124L13.9251 69.7546L14.0527 74.1112C14.099 75.6896 12.8571 77.0067 11.2666 77.0533L11.1948 77.0543C9.61561 77.0543 8.33544 75.7741 8.33579 74.1707L8.46356 69.8064L1.65063 66.5125C0.77868 66.0909 0.224687 65.2078 0.224687 64.2393C0.224687 63.261 1.01778 62.4679 2.02074 62.4682L2.15059 62.4754L8.65531 63.2536L8.72386 60.9063L7.91391 60.6103C7.06913 60.3014 6.50725 59.4978 6.50725 58.5983C6.50725 57.634 7.28902 56.8522 8.25377 56.8522L9.09001 56.8526L9.12555 56.6819C9.33009 55.702 10.1938 55 11.1948 55C12.1959 55 13.0595 55.7026 13.2633 56.6825L13.2987 56.8526L14.1362 56.8522C15.0192 56.8522 15.7599 57.5107 15.8736 58.4317L15.8823 58.5983C15.8823 59.4185 15.4142 60.1648 14.6415 60.5409L14.4762 60.6101L13.666 60.9069L13.7344 63.2408ZM20.4033 64.2393C20.4033 64.173 20.3495 64.1193 20.3079 64.1189L12.1366 65.0948L11.9804 59.7657L13.8688 59.075L13.9559 59.0391C14.1236 58.9573 14.2309 58.7861 14.2325 58.6495L14.2301 58.5854C14.2244 58.5396 14.1839 58.5036 14.1366 58.5036L11.9558 58.5046L11.6465 57.0189C11.602 56.8048 11.4134 56.6514 11.1948 56.6514C10.9758 56.6514 10.7869 56.805 10.7422 57.0189L10.4329 58.5046L8.25338 58.5036C8.20107 58.5036 8.15868 58.546 8.15868 58.5983C8.15868 58.8044 8.2874 58.9885 8.48089 59.0592L10.4093 59.7641L10.2533 65.108L2.02787 64.1206L1.99611 64.1193C1.92984 64.1193 1.87612 64.173 1.87612 64.2393C1.87612 64.5743 2.06776 64.8799 2.36944 65.0257L10.1456 68.7853L9.98686 74.1949C9.98686 74.862 10.5277 75.4029 11.1827 75.4029L11.2302 75.4023C11.8969 75.3827 12.4215 74.8264 12.4019 74.1596L12.2431 68.7336L19.8751 65.0436L19.9832 64.9859C20.2434 64.828 20.4033 64.545 20.4033 64.2393Z'
          fill='white'
        />
      )}
    </svg>
  );
};

export default DownArrow;
